# WIAM-API

**Test task**  
–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ Yii2, PostgreSQL –∏ Redis, —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ Docker-—Å—Ä–µ–¥–µ.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker
- Docker Compose
- Git

### ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```
   git clone https://github.com/MikhailShapshay/WIAM-API.git
   cd WIAM-API
   ```
2. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
   ```
   docker-compose up -d --build
   ```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
    ```
    docker-compose exec php composer install
    ```

4. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   ```
   docker-compose exec php php yii migrate
   ```
5. –ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
   ```
   http://localhost
   ```
### üêò –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- PHP 8.3 (FPM)
- Yii2 Framework
- PostgreSQL 14
- Redis 7
- Nginx (alpine)
- Supervisor (–¥–ª—è php-fpm –∏ yii queue)
- Docker / Docker Compose

### üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞
   ```
.
‚îú‚îÄ‚îÄ _docker/                  # Dockerfile, –∫–æ–Ω—Ñ–∏–≥–∏ nginx, supervisor –∏ php.ini
‚îú‚îÄ‚îÄ src/app/                  # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Yii2)
‚îú‚îÄ‚îÄ docker-compose.yml        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è docker-compose
‚îî‚îÄ‚îÄ README.md                 # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–µ–∫—Ç–∞
   ```

### ‚è± –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
**1‚Äì2 —á–∞—Å–∞**

–í—Ä–µ–º—è –∑–∞—Ç—Ä–∞—á–µ–Ω–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –Ω–∞:

- –Ω–∞—Å—Ç—Ä–æ–π–∫—É –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ docker-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã,

- –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Supervisor –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è php-fpm –∏ yii queue,

- —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞.
